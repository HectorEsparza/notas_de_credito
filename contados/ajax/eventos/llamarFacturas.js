$(document).ready(function(){

    $("#factura1").change(function(){
      var mayuscula = $("#factura1").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura1").val(mayuscula);
      $("#factura").val($("#factura1").val());
      $("#indice").val("1");
      enviar();
    });

    $("#factura2").change(function(){
      var mayuscula = $("#factura2").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura2").val(mayuscula);
      $("#factura").val($("#factura2").val());
      $("#indice").val("2");
      enviar();
    });

    $("#factura3").change(function(){
      var mayuscula = $("#factura3").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura3").val(mayuscula);
      $("#factura").val($("#factura3").val());
      $("#indice").val("3");
      enviar();
    });

    $("#factura4").change(function(){
      var mayuscula = $("#factura4").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura4").val(mayuscula);
      $("#factura").val($("#factura4").val());
      $("#indice").val("4");
      enviar();
    });

    $("#factura5").change(function(){
      var mayuscula = $("#factura5").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura5").val(mayuscula);
      $("#factura").val($("#factura5").val());
      $("#indice").val("5");
      enviar();
    });

    $("#factura6").change(function(){
      var mayuscula = $("#factura6").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura6").val(mayuscula);
      $("#factura").val($("#factura6").val());
      $("#indice").val("6");
      enviar();
    });

    $("#factura7").change(function(){
      var mayuscula = $("#factura7").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura7").val(mayuscula);
      $("#factura").val($("#factura7").val());
      $("#indice").val("7");
      enviar();
    });

    $("#factura8").change(function(){
      var mayuscula = $("#factura8").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura8").val(mayuscula);
      $("#factura").val($("#factura8").val());
      $("#indice").val("8");
      enviar();
    });

    $("#factura9").change(function(){
      var mayuscula = $("#factura9").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura9").val(mayuscula);
      $("#factura").val($("#factura9").val());
      $("#indice").val("9");
      enviar();
    });

    $("#factura10").change(function(){
      var mayuscula = $("#factura10").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura10").val(mayuscula);
      $("#factura").val($("#factura10").val());
      $("#indice").val("10");
      enviar();
    });

    $("#factura11").change(function(){
      var mayuscula = $("#factura11").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura11").val(mayuscula);
      $("#factura").val($("#factura11").val());
      $("#indice").val("11");
      enviar();
    });

    $("#factura12").change(function(){
      var mayuscula = $("#factura12").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura12").val(mayuscula);
      $("#factura").val($("#factura12").val());
      $("#indice").val("12");
      enviar();
    });

    $("#factura13").change(function(){
      var mayuscula = $("#factura13").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura13").val(mayuscula);
      $("#factura").val($("#factura13").val());
      $("#indice").val("13");
      enviar();
    });

    $("#factura14").change(function(){
      var mayuscula = $("#factura14").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura14").val(mayuscula);
      $("#factura").val($("#factura14").val());
      $("#indice").val("14");
      enviar();
    });

    $("#factura15").change(function(){
      var mayuscula = $("#factura15").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura15").val(mayuscula);
      $("#factura").val($("#factura15").val());
      $("#indice").val("15");
      enviar();
    });

    $("#factura16").change(function(){
      var mayuscula = $("#factura16").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura16").val(mayuscula);
      $("#factura").val($("#factura16").val());
      $("#indice").val("16");
      enviar();
    });

    $("#factura17").change(function(){
      var mayuscula = $("#factura17").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura17").val(mayuscula);
      $("#factura").val($("#factura17").val());
      $("#indice").val("17");
      enviar();
    });

    $("#factura18").change(function(){
      var mayuscula = $("#factura18").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura18").val(mayuscula);
      $("#factura").val($("#factura18").val());
      $("#indice").val("18");
      enviar();
    });

    $("#factura19").change(function(){
      var mayuscula = $("#factura19").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura19").val(mayuscula);
      $("#factura").val($("#factura19").val());
      $("#indice").val("19");
      enviar();
    });

    $("#factura20").change(function(){
      var mayuscula = $("#factura20").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura20").val(mayuscula);
      $("#factura").val($("#factura20").val());
      $("#indice").val("20");
      enviar();
    });

    $("#factura21").change(function(){
      var mayuscula = $("#factura21").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura21").val(mayuscula);
      $("#factura").val($("#factura21").val());
      $("#indice").val("21");
      enviar();
    });

    $("#factura22").change(function(){
      var mayuscula = $("#factura22").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura22").val(mayuscula);
      $("#factura").val($("#factura22").val());
      $("#indice").val("22");
      enviar();
    });

    $("#factura23").change(function(){
      var mayuscula = $("#factura23").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura23").val(mayuscula);
      $("#factura").val($("#factura23").val());
      $("#indice").val("23");
      enviar();
    });

    $("#factura24").change(function(){
      var mayuscula = $("#factura24").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura24").val(mayuscula);
      $("#factura").val($("#factura24").val());
      $("#indice").val("24");
      enviar();
    });

    $("#factura25").change(function(){
      var mayuscula = $("#factura25").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura25").val(mayuscula);
      $("#factura").val($("#factura25").val());
      $("#indice").val("25");
      enviar();
    });

    $("#factura26").change(function(){
      var mayuscula = $("#factura26").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura26").val(mayuscula);
      $("#factura").val($("#factura26").val());
      $("#indice").val("26");
      enviar();
    });

    $("#factura27").change(function(){
      var mayuscula = $("#factura27").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura27").val(mayuscula);
      $("#factura").val($("#factura27").val());
      $("#indice").val("27");
      enviar();
    });

    $("#factura28").change(function(){
      var mayuscula = $("#factura28").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura28").val(mayuscula);
      $("#factura").val($("#factura28").val());
      $("#indice").val("28");
      enviar();
    });

    $("#factura29").change(function(){
      var mayuscula = $("#factura29").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura29").val(mayuscula);
      $("#factura").val($("#factura29").val());
      $("#indice").val("29");
      enviar();
    });

    $("#factura30").change(function(){
      var mayuscula = $("#factura30").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura30").val(mayuscula);
      $("#factura").val($("#factura30").val());
      $("#indice").val("30");
      enviar();
    });

    $("#factura31").change(function(){
      var mayuscula = $("#factura31").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura31").val(mayuscula);
      $("#factura").val($("#factura31").val());
      $("#indice").val("31");
      enviar();
    });

    $("#factura32").change(function(){
      var mayuscula = $("#factura32").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura32").val(mayuscula);
      $("#factura").val($("#factura32").val());
      $("#indice").val("32");
      enviar();
    });

    $("#factura33").change(function(){
      var mayuscula = $("#factura33").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura33").val(mayuscula);
      $("#factura").val($("#factura33").val());
      $("#indice").val("33");
      enviar();
    });

    $("#factura34").change(function(){
      var mayuscula = $("#factura34").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura34").val(mayuscula);
      $("#factura").val($("#factura34").val());
      $("#indice").val("34");
      enviar();
    });

    $("#factura35").change(function(){
      var mayuscula = $("#factura35").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura35").val(mayuscula);
      $("#factura").val($("#factura35").val());
      $("#indice").val("35");
      enviar();
    });

    $("#factura36").change(function(){
      var mayuscula = $("#factura36").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura36").val(mayuscula);
      $("#factura").val($("#factura36").val());
      $("#indice").val("36");
      enviar();
    });

    $("#factura37").change(function(){
      var mayuscula = $("#factura37").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura37").val(mayuscula);
      $("#factura").val($("#factura37").val());
      $("#indice").val("37");
      enviar();
    });

    $("#factura38").change(function(){
      var mayuscula = $("#factura38").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura38").val(mayuscula);
      $("#factura").val($("#factura38").val());
      $("#indice").val("38");
      enviar();
    });

    $("#factura39").change(function(){
      var mayuscula = $("#factura39").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura39").val(mayuscula);
      $("#factura").val($("#factura39").val());
      $("#indice").val("39");
      enviar();
    });

    $("#factura40").change(function(){
      var mayuscula = $("#factura40").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura40").val(mayuscula);
      $("#factura").val($("#factura40").val());
      $("#indice").val("40");
      enviar();
    });

    $("#factura41").change(function(){
      var mayuscula = $("#factura41").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura41").val(mayuscula);
      $("#factura").val($("#factura41").val());
      $("#indice").val("41");
      enviar();
    });

    $("#factura42").change(function(){
      var mayuscula = $("#factura42").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura42").val(mayuscula);
      $("#factura").val($("#factura42").val());
      $("#indice").val("42");
      enviar();
    });

    $("#factura43").change(function(){
      var mayuscula = $("#factura43").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura43").val(mayuscula);
      $("#factura").val($("#factura43").val());
      $("#indice").val("43");
      enviar();
    });

    $("#factura44").change(function(){
      var mayuscula = $("#factura44").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura44").val(mayuscula);
      $("#factura").val($("#factura44").val());
      $("#indice").val("44");
      enviar();
    });

    $("#factura45").change(function(){
      var mayuscula = $("#factura45").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura45").val(mayuscula);
      $("#factura").val($("#factura45").val());
      $("#indice").val("45");
      enviar();
    });

    $("#factura46").change(function(){
      var mayuscula = $("#factura46").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura46").val(mayuscula);
      $("#factura").val($("#factura46").val());
      $("#indice").val("46");
      enviar();
    });

    $("#factura47").change(function(){
      var mayuscula = $("#factura47").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura47").val(mayuscula);
      $("#factura").val($("#factura47").val());
      $("#indice").val("47");
      enviar();
    });

    $("#factura48").change(function(){
      var mayuscula = $("#factura48").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura48").val(mayuscula);
      $("#factura").val($("#factura48").val());
      $("#indice").val("48");
      enviar();
    });

    $("#factura49").change(function(){
      var mayuscula = $("#factura49").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura49").val(mayuscula);
      $("#factura").val($("#factura49").val());
      $("#indice").val("49");
      enviar();
    });

    $("#factura50").change(function(){
      var mayuscula = $("#factura50").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura50").val(mayuscula);
      $("#factura").val($("#factura50").val());
      $("#indice").val("50");
      enviar();
    });

    $("#factura51").change(function(){
      var mayuscula = $("#factura51").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura51").val(mayuscula);
      $("#factura").val($("#factura51").val());
      $("#indice").val("51");
      enviar();
    });

    $("#factura52").change(function(){
      var mayuscula = $("#factura52").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura52").val(mayuscula);
      $("#factura").val($("#factura52").val());
      $("#indice").val("52");
      enviar();
    });

    $("#factura53").change(function(){
      var mayuscula = $("#factura53").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura53").val(mayuscula);
      $("#factura").val($("#factura53").val());
      $("#indice").val("53");
      enviar();
    });

    $("#factura54").change(function(){
      var mayuscula = $("#factura54").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura54").val(mayuscula);
      $("#factura").val($("#factura54").val());
      $("#indice").val("54");
      enviar();
    });

    $("#factura55").change(function(){
      var mayuscula = $("#factura55").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura55").val(mayuscula);
      $("#factura").val($("#factura55").val());
      $("#indice").val("55");
      enviar();
    });

    $("#factura56").change(function(){
      var mayuscula = $("#factura56").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura56").val(mayuscula);
      $("#factura").val($("#factura56").val());
      $("#indice").val("56");
      enviar();
    });

    $("#factura57").change(function(){
      var mayuscula = $("#factura57").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura57").val(mayuscula);
      $("#factura").val($("#factura57").val());
      $("#indice").val("57");
      enviar();
    });

    $("#factura58").change(function(){
      var mayuscula = $("#factura58").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura58").val(mayuscula);
      $("#factura").val($("#factura58").val());
      $("#indice").val("58");
      enviar();
    });

    $("#factura59").change(function(){
      var mayuscula = $("#factura59").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura59").val(mayuscula);
      $("#factura").val($("#factura59").val());
      $("#indice").val("59");
      enviar();
    });

    $("#factura60").change(function(){
      var mayuscula = $("#factura60").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura60").val(mayuscula);
      $("#factura").val($("#factura60").val());
      $("#indice").val("60");
      enviar();
    });

    $("#factura61").change(function(){
      var mayuscula = $("#factura61").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura61").val(mayuscula);
      $("#factura").val($("#factura61").val());
      $("#indice").val("61");
      enviar();
    });

    $("#factura62").change(function(){
      var mayuscula = $("#factura62").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura62").val(mayuscula);
      $("#factura").val($("#factura62").val());
      $("#indice").val("62");
      enviar();
    });

    $("#factura63").change(function(){
      var mayuscula = $("#factura63").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura63").val(mayuscula);
      $("#factura").val($("#factura63").val());
      $("#indice").val("63");
      enviar();
    });

    $("#factura64").change(function(){
      var mayuscula = $("#factura64").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura64").val(mayuscula);
      $("#factura").val($("#factura64").val());
      $("#indice").val("64");
      enviar();
    });

    $("#factura65").change(function(){
      var mayuscula = $("#factura65").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura65").val(mayuscula);
      $("#factura").val($("#factura65").val());
      $("#indice").val("65");
      enviar();
    });

    $("#factura66").change(function(){
      var mayuscula = $("#factura66").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura66").val(mayuscula);
      $("#factura").val($("#factura66").val());
      $("#indice").val("66");
      enviar();
    });

    $("#factura67").change(function(){
      var mayuscula = $("#factura67").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura67").val(mayuscula);
      $("#factura").val($("#factura67").val());
      $("#indice").val("67");
      enviar();
    });

    $("#factura68").change(function(){
      var mayuscula = $("#factura68").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura68").val(mayuscula);
      $("#factura").val($("#factura68").val());
      $("#indice").val("68");
      enviar();
    });

    $("#factura69").change(function(){
      var mayuscula = $("#factura69").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura69").val(mayuscula);
      $("#factura").val($("#factura69").val());
      $("#indice").val("69");
      enviar();
    });

    $("#factura70").change(function(){
      var mayuscula = $("#factura70").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura70").val(mayuscula);
      $("#factura").val($("#factura70").val());
      $("#indice").val("70");
      enviar();
    });

    $("#factura71").change(function(){
      var mayuscula = $("#factura71").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura71").val(mayuscula);
      $("#factura").val($("#factura71").val());
      $("#indice").val("71");
      enviar();
    });

    $("#factura72").change(function(){
      var mayuscula = $("#factura72").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura72").val(mayuscula);
      $("#factura").val($("#factura72").val());
      $("#indice").val("72");
      enviar();
    });

    $("#factura73").change(function(){
      var mayuscula = $("#factura73").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura73").val(mayuscula);
      $("#factura").val($("#factura73").val());
      $("#indice").val("73");
      enviar();
    });

    $("#factura74").change(function(){
      var mayuscula = $("#factura74").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura74").val(mayuscula);
      $("#factura").val($("#factura74").val());
      $("#indice").val("74");
      enviar();
    });

    $("#factura75").change(function(){
      var mayuscula = $("#factura75").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura75").val(mayuscula);
      $("#factura").val($("#factura75").val());
      $("#indice").val("75");
      enviar();
    });

    $("#factura76").change(function(){
      var mayuscula = $("#factura76").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura76").val(mayuscula);
      $("#factura").val($("#factura76").val());
      $("#indice").val("76");
      enviar();
    });

    $("#factura77").change(function(){
      var mayuscula = $("#factura77").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura77").val(mayuscula);
      $("#factura").val($("#factura77").val());
      $("#indice").val("77");
      enviar();
    });

    $("#factura78").change(function(){
      var mayuscula = $("#factura78").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura78").val(mayuscula);
      $("#factura").val($("#factura78").val());
      $("#indice").val("78");
      enviar();
    });

    $("#factura79").change(function(){
      var mayuscula = $("#factura79").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura79").val(mayuscula);
      $("#factura").val($("#factura79").val());
      $("#indice").val("79");
      enviar();
    });

    $("#factura80").change(function(){
      var mayuscula = $("#factura80").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura80").val(mayuscula);
      $("#factura").val($("#factura80").val());
      $("#indice").val("80");
      enviar();
    });

    $("#factura81").change(function(){
      var mayuscula = $("#factura81").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura81").val(mayuscula);
      $("#factura").val($("#factura81").val());
      $("#indice").val("81");
      enviar();
    });

    $("#factura82").change(function(){
      var mayuscula = $("#factura82").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura82").val(mayuscula);
      $("#factura").val($("#factura82").val());
      $("#indice").val("82");
      enviar();
    });

    $("#factura83").change(function(){
      var mayuscula = $("#factura83").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura83").val(mayuscula);
      $("#factura").val($("#factura83").val());
      $("#indice").val("83");
      enviar();
    });

    $("#factura84").change(function(){
      var mayuscula = $("#factura84").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura84").val(mayuscula);
      $("#factura").val($("#factura84").val());
      $("#indice").val("84");
      enviar();
    });

    $("#factura85").change(function(){
      var mayuscula = $("#factura85").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura85").val(mayuscula);
      $("#factura").val($("#factura85").val());
      $("#indice").val("85");
      enviar();
    });

    $("#factura86").change(function(){
      var mayuscula = $("#factura86").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura86").val(mayuscula);
      $("#factura").val($("#factura86").val());
      $("#indice").val("86");
      enviar();
    });

    $("#factura87").change(function(){
      var mayuscula = $("#factura87").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura87").val(mayuscula);
      $("#factura").val($("#factura87").val());
      $("#indice").val("87");
      enviar();
    });

    $("#factura88").change(function(){
      var mayuscula = $("#factura88").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura88").val(mayuscula);
      $("#factura").val($("#factura88").val());
      $("#indice").val("88");
      enviar();
    });

    $("#factura89").change(function(){
      var mayuscula = $("#factura89").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura89").val(mayuscula);
      $("#factura").val($("#factura89").val());
      $("#indice").val("89");
      enviar();
    });

    $("#factura90").change(function(){
      var mayuscula = $("#factura90").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura90").val(mayuscula);
      $("#factura").val($("#factura90").val());
      $("#indice").val("90");
      enviar();
    });

    $("#factura91").change(function(){
      var mayuscula = $("#factura91").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura91").val(mayuscula);
      $("#factura").val($("#factura91").val());
      $("#indice").val("91");
      enviar();
    });

    $("#factura92").change(function(){
      var mayuscula = $("#factura92").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura92").val(mayuscula);
      $("#factura").val($("#factura92").val());
      $("#indice").val("92");
      enviar();
    });

    $("#factura93").change(function(){
      var mayuscula = $("#factura93").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura93").val(mayuscula);
      $("#factura").val($("#factura93").val());
      $("#indice").val("93");
      enviar();
    });

    $("#factura94").change(function(){
      var mayuscula = $("#factura94").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura94").val(mayuscula);
      $("#factura").val($("#factura94").val());
      $("#indice").val("94");
      enviar();
    });

    $("#factura95").change(function(){
      var mayuscula = $("#factura95").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura95").val(mayuscula);
      $("#factura").val($("#factura95").val());
      $("#indice").val("95");
      enviar();
    });

    $("#factura96").change(function(){
      var mayuscula = $("#factura96").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura96").val(mayuscula);
      $("#factura").val($("#factura96").val());
      $("#indice").val("96");
      enviar();
    });

    $("#factura97").change(function(){
      var mayuscula = $("#factura97").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura97").val(mayuscula);
      $("#factura").val($("#factura97").val());
      $("#indice").val("97");
      enviar();
    });

    $("#factura98").change(function(){
      var mayuscula = $("#factura98").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura98").val(mayuscula);
      $("#factura").val($("#factura98").val());
      $("#indice").val("98");
      enviar();
    });

    $("#factura99").change(function(){
      var mayuscula = $("#factura99").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura99").val(mayuscula);
      $("#factura").val($("#factura99").val());
      $("#indice").val("99");
      enviar();
    });

    $("#factura100").change(function(){
      var mayuscula = $("#factura100").val();
      mayuscula = mayuscula.toUpperCase();
      $("#factura100").val(mayuscula);
      $("#factura").val($("#factura100").val());
      $("#indice").val("100");
      enviar();
    });



    function enviar(){
      // var total = $("#totalNota").val();
      // var penalizacion = $("#penalizacionNota").val();
      // console.log(total);
      var parametros =
      {
        indice: $("#indice").val(),
        factura: $("#factura").val(),
        total: $("#total").text(),
      }
      console.log(parametros);
      $.ajax({
          async: true, //Activar la transferencia asincronica
          type: "POST", //El tipo de transaccion para los datos
          dataType: "json", //Especificaremos que datos vamos a enviar
          contentType: "application/x-www-form-urlencoded", //Especificaremos el tipo de contenido
          url: "ajax/llamarFacturas.php", //Sera el archivo que va a procesar la petición AJAX
          data: parametros, //Datos que le vamos a enviar
          // data: "total="+total+"&penalizacion="+penalizacion,
          beforeSend: inicioEnvio, //Es la función que se ejecuta antes de empezar la transacción
          success: llegada, //Función que se ejecuta en caso de tener exito
          timeout: 4000,
          error: problemas //Función que se ejecuta si se tiene problemas al superar el timeout
      });
      return false;
    }
    function inicioEnvio(){
        console.log("Cargando...");
    }

    function llegada(datos){
      var total = 0;
      var subtotal = 0;
      var auxiliar = [];
      var siguienteFila = parseInt(datos.indice, 10);
      siguienteFila += 1;
      //activamos el boton de guardar
      //En el servidor la condicion se cumple si datos[5]==""
      //En el servidor local la condicion se cumple si datos[5]==null
      console.log(datos.folio+" "+datos.cliente);
      if(datos.folio==null && datos.cliente!=null){
            var separador = datos.factura;
            separador = separador.substr(1,1);
            console.log(separador);
            if(datos.departamento=="CONTADOS" && 
              ((separador=="D" && $("#tipo").val()=="facturas") || 
              (separador=="R" && $("#tipo").val()=="remisiones"))){
              if(datos.indice==1&&datos.importe>0){
                $("#guardar").prop("disabled", false);
              }
              else if(datos.indice==1&&datos.importe==0){
                $("#guardar").prop("disabled", true);
              }
              $("#cliente"+datos.indice).text(datos.cliente);
              $("#nombre"+datos.indice).text(datos.nombre);
              if(datos.importe>=0){
                $("#importe"+datos.indice).text("$"+datos.importe);
                //desbloqueamos la siguiente fila para que introduzcan otra factura
                $("#factura"+siguienteFila).prop("readonly", false);
                $("#metodo"+siguienteFila).prop("disabled", false);
                $("#observaciones"+siguienteFila).prop("readonly", false);
              }
              else{
                $("#factura"+datos.indice).val("");
                $("#cliente"+datos.indice).text("");
                $("#nombre"+datos.indice).text("");
                $("#importe"+datos.indice).text("");
                $("#observaciones"+datos.indice).val("");
              }
            }
            else if(datos.departamento=="CONTADOS_TECAMAC" && 
                   ((separador=="T" &&  $("#tipo").val()=="facturas") || 
                   (separador=="R" && $("#tipo").val()=="remisiones"))){
              if(datos.indice==1&&datos.importe>0){
                $("#guardar").prop("disabled", false);
              }
              else if(datos.indice==1&&datos.importe==0){
                $("#guardar").prop("disabled", true);
              }
              $("#cliente"+datos.indice).text(datos.cliente);
              $("#nombre"+datos.indice).text(datos.nombre);
              if(datos.importe>=0){
                $("#importe"+datos.indice).text("$"+datos.importe);
                //desbloqueamos la siguiente fila para que introduzcan otra factura
                $("#factura"+siguienteFila).prop("readonly", false);
                $("#metodo"+siguienteFila).prop("disabled", false);
                $("#observaciones"+siguienteFila).prop("readonly", false);
              }
              else{
                $("#factura"+datos.indice).val("");
                $("#cliente"+datos.indice).text("");
                $("#nombre"+datos.indice).text("");
                $("#importe"+datos.indice).text("");
                $("#observaciones"+datos.indice).val("");
              }
            }
            else{
              alert("No tiene permiso de capturar esa factura");
              $("#factura"+datos.indice).val("");
            }
      }
      else if(datos.folio!=null && datos.cliente!=null){
        alert("La factura/remisión "+datos.factura+" ya se encuentra capturada en el contado "+datos.folio);
        $("#factura"+datos.indice).val("");
        $("#cliente"+datos.indice).text("");
        $("#nombre"+datos.indice).text("");
        $("#importe"+datos.indice).text("");
        $("#observaciones"+datos.indice).val("");
      }
      else{
        alert("La factura "+datos.factura+" no existe en la base de datos");
        $("#factura"+datos.indice).val("");
        $("#cliente"+datos.indice).text("");
        $("#nombre"+datos.indice).text("");
        $("#importe"+datos.indice).text("");
        $("#observaciones"+datos.indice).val("");
      }
      for (var j = 1; j<=$("#filas").val(); j++){
        if(document.getElementById('importe'+j).innerText==""){
          auxiliar[j] = 0;
        }
        else{
          var valor = document.getElementById('importe'+j).innerText;
          var cadena = valor.split("$");
          auxiliar[j] = parseFloat(cadena[1]);
          console.log(auxiliar[j]);
        }
        subtotal = subtotal + auxiliar[j];
      }
      $("#total").text("$"+Math.round(subtotal*100)/100);
      console.log(siguienteFila);
      //console.log("Se activo la factura "+datos[0]+", con folio "+datos[1]);
      //alert(datos);
    }

    function problemas(textError, textStatus) {
        //var error = JSON.parse(textError);
        alert("Problemas en el Servlet: " + JSON.stringify(textError));
        alert("Problemas en el servlet: " + JSON.stringify(textStatus));
    }

});
